<script>
    var dothi1 = <%- JSON.stringify(dothi1) %>;
    var dothi2 = <%- JSON.stringify(dothi2) %>;
    var dothi3 = <%- JSON.stringify(dothi3) %>;
    $(document).ready(function(){
        var tk2=document.querySelectorAll(".thongkeloai2");
        $(".thongkeloai2").click((e)=>{
            $(e.target).css({"cursor": "default", "overflow": "unset","display":"unset"});
        })
        tk2[0].innerHTML= `&emsp;Với vị trí địa lý nằm giáp biển, phát triển kinh tế biển của Bạc Liêu tập trung chủ yếu ở vùng sản xuất phía Nam Quốc lộ 1A. Trong những năm gần đây, thành phố Bạc Liêu đang có những bước phát triển nhanh chóng và thần kỳ. Tốc độ phát triển công nghiệp của thành phố chủ yếu dựa vào sự tăng trưởng và mở rông của các cụm công nghiệp lớn là Trà Kha và Nhà Mát. Bên cạnh đó là sự phát triển mạnh của ngành du lịch. Trong vòng các năm tới có khả năng cao Bạc Liêu sẽ phát triển và trở thành đô thị loại 1. Để trở thành 1 đô thị phát triển bền vững, xanh sạch đẹp, Bạc Liêu cần tập trung giải quyết các vấn đề như:<br>  
- Tập trung vào công tác quy hoạch dân cư:  Quá trình đô thị hóa và phát triển đô thị đã làm cho dân số đô thị tăng nhanh, trong khi kết cấu hạ tầng không đáp ứng đầy đủ, tạo nên sức ép quá tải ngày càng lớn. Các dòng dịch cư từ nông thôn vào đô thị ngày càng tăng và rất khó kiểm soát. Sức ép dân số đô thị vốn đã quá tải lại càng quá tải hơn (về đất đai, kết cấu hạ tầng, công tác quy hoạch và quản lý đô thị...). Do đó, dù muốn hay không đã tạo nên nhiều khu nhà ổ chuột. Bên cạnh đó còn tạo nên nhiều hệ lụy như tệ nạn, ô nhiễm môi trường,vv . Chính vì những lý do trên công tác quy hoạch dân cư một cách hiệu quả là vấn đề vô cùng cấp thiết.
- Phát triển mạnh các ngành kinh tế biển và ven biển theo hướng công nghiệp hóa, hiện đại hóa, đảm bảo hiệu quả cao và phát triển bền vững.<br>
- Xây dựng được các vùng nguyên liệu tập trung, sản xuất hàng hóa lớn, sản xuất theo hướng VietGAP, GlobalGAP, ứng dụng công nghệ cao.<br>
Phát triển các mô hình sản xuất và phòng chống dịch bệnh có hiệu quả, gắn với chế biến, tiêu thụ sản phẩm và bảo vệ môi trường để phát triển bền vững, nâng cao thu nhập trên đơn vị diện tích`;

        tk2[1].innerHTML="123";
    })
</script>
<div class="statistical">
    <%  const GuessCity1 = function(city) {%>
        <%temp=1;%>
        <%matdo=parseInt(parseInt(JSON.stringify(city["City_Year_Polygon.Population"]))*(100+parseFloat(city.DPop))/100)/parseInt(parseInt(JSON.stringify(city["City_Year_Polygon.Area"]))*(100+parseFloat(city.AVGAcr))/100);%>
        <%ptkt=parseInt(parseInt(JSON.stringify(city["City_Year_Polygon.Industry"]))*(100+parseFloat(city.llcreate))/100);%>
        <%while(matdo<2500 || ptkt<10){%>
            <%matdo=parseInt(parseInt(JSON.stringify(city["City_Year_Polygon.Population"]))*(100+parseFloat(city.DPop)*temp*temp)/100)/parseInt(parseInt(JSON.stringify(city["City_Year_Polygon.Area"]))*(100+parseFloat(city.AVGAcr))/100);%>
            <%ptkt=parseInt(parseInt(JSON.stringify(city["City_Year_Polygon.Industry"]))*(100+parseFloat(city.llcreate)*temp)/100);%>
            <%temp++;%>
        <%}%>
        <%return temp;%>
    <%}%>
    <%  const GuessCity2 = function(city) {%>
        <%temp=1;%>
        <%matdo=parseInt(parseInt(JSON.stringify(city["City_Year_Polygon.Population"]))*(100+parseFloat(city.DPop))/100)/parseInt(parseInt(JSON.stringify(city["City_Year_Polygon.Area"]))*(100+parseFloat(city.AVGAcr))/100);%>
        <%ptkt=parseInt(parseInt(JSON.stringify(city["City_Year_Polygon.Industry"]))*(100+parseFloat(city.llcreate))/100);%>
        <%while( matdo<2000 || ptkt<8){%>
            <%matdo=parseInt(parseInt(JSON.stringify(city["City_Year_Polygon.Population"]))*(100+parseFloat(city.DPop)*temp*temp)/100)/parseInt(parseInt(JSON.stringify(city["City_Year_Polygon.Area"]))*(100+parseFloat(city.AVGAcr))/100);%>
            <%ptkt=parseInt(parseInt(JSON.stringify(city["City_Year_Polygon.Industry"]))*(100+parseFloat(city.llcreate)*temp)/100);%>
            <%temp++;%>
        <%}%>
        <%return temp;%>
    <%}%>
    <div class="statistical__analytis">
        <div class="statistical__analytis--main">
            <table>
                <tr class="statistical__analytis__heading">
                    <th>Thành phố</th>
                    <th>Loại đô thị</th>
                    <th>Năm phát triển</th>
                    <th>Dự đoán</th>
                    <th>Hướng phát triển</th>
                </tr>
                <% dothi2.forEach(function(city){ %>
                    <tr>
                        <th class="analist-item--small">    
                            <%=JSON.stringify(city["City_Year_Polygon.City.Name"])%>
                        </th>
                        <th class="analist-item--small">
                            Loại 2
                        </th>
                        <th class="analist-item--small">
                            <%= GuessCity1(city)+2020%>
                        </th>
                        <th class="analist-item">
                            <% var guessyear=GuessCity1(city)%>
                            <% var tdpt=parseInt(parseInt(JSON.stringify(city["City_Year_Polygon.Industry"]))*(100+parseFloat(city.llcreate)*guessyear)/100)%>
                            <% var tddt=parseInt(parseInt(JSON.stringify(city["City_Year_Polygon.Area"]))*(100+parseFloat(city.AVGAcr)*guessyear)/100)%>
                            <% var tdds=parseInt(parseInt(JSON.stringify(city["City_Year_Polygon.Population"]))*(100+parseFloat(city.DPop)*guessyear*guessyear)/100)/tddt%>
                            <p>Mật độ dân số:<%= parseInt(tdds)%> người/km2</p>
                            <p>Tốc độ phát triển kinh tế:<%=tdpt%>%</p>
                            <p>Diện tích: <%=tddt%> km2 </p>
                        </th>
                        <th class="thongkeloai2">
                            
                        </th>
                    </tr>
                <% }) %>
                <% dothi3.forEach(function(city){ %>
                    <tr>
                        <th>    
                            <%=JSON.stringify(city["City_Year_Polygon.City.Name"])%>
                        </th>
                        <th>
                            Loại 3
                        </th>
                        <th>
                            <%-GuessCity2(city)+2020%>
                        </th>
                        <th>
                            <% var guessyear=GuessCity2(city)%>
                            <% var tdpt=parseInt(parseInt(JSON.stringify(city["City_Year_Polygon.Industry"]))*(100+parseFloat(city.llcreate)*guessyear)/100)%>
                            <% var tddt=parseInt(parseInt(JSON.stringify(city["City_Year_Polygon.Area"]))*(100+parseFloat(city.AVGAcr)*guessyear)/100)%>
                            <% var tdds=parseInt(parseInt(JSON.stringify(city["City_Year_Polygon.Population"]))*(100+parseFloat(city.DPop)*guessyear*guessyear)/100)/tddt%>
                            <p>Mật độ dân số:<%= parseInt(tdds)%> người/km2</p>
                            <p>Tốc độ phát triển kinh tế:<%=tdpt%>%</p>
                            <%if(tdpt){%>
                                
                            <%}%>
                            <p>Diện tích: <%=tddt%> km2 </p>
                        </th>
                        <th class="thongkeloai3">
                            
                        </th>
                    </tr>
                <% }) %>
            </table>
        </div>
        <div class="statistical__analytis--criteria">
            <h3 class="statistical__analytis--criteria--title">Tiêu chuẩn thành phố</h3>
            <h5 class="statistical__analytis--criteria--city">Thành phố loại 1:</h5>
            <p class="statistical__analytis--criteria--detail">Mật độ dân số: Đạt 2500 người/km2</p>
            <p class="statistical__analytis--criteria--detail">Phát triển kinh tế: Đạt 10%</p>
            <h5 class="statistical__analytis--criteria--city">Thành phố loại 2: </h5>
            <p class="statistical__analytis--criteria--detail">Mật độ dân số: Đạt 2000 người/km2</p>
            <p class="statistical__analytis--criteria--detail">Phát triển kinh tế: Đạt 8%</p>
            <!-- <h5 class="statistical__analytis--criteria--city">Thành phố loại 3:</h5>
            <p class="statistical__analytis--criteria--detail">Mật độ dân số: </p>
            <p class="statistical__analytis--criteria--detail">Phát triển ktế: </p> -->
        </div>
    </div>
</div>